<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ffd6e8,#fff0f5);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Comic Sans MS',cursive;
  overflow:hidden;
}

/* Card */
.card{
  background:#fff;
  padding:30px 40px;
  border-radius:25px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
}

/* Buttons */
.buttons{
  display:flex;
  gap:20px;
  justify-content:center;
  margin-top:20px;
}

button{
  padding:12px 25px;
  font-size:18px;
  border-radius:30px;
  border:none;
  cursor:pointer;
}

#yes{ background:#ff4d88; color:#fff; }
#no{ background:#ccc; position:fixed; }

/* Animations */
@keyframes fade{
  from{opacity:0; transform:translateY(25px);}
  to{opacity:1; transform:translateY(0);}
}

/* Result */
.result{ display:none; animation:fade 1.2s ease; }

.love-text{
  margin-top:15px;
  font-size:20px;
  color:#e84a7a;
}

/* Emoji rain */
.float{
  position:fixed;
  top:-10px;
  font-size:24px;
  animation:fall linear forwards;
  pointer-events:none;
}
@keyframes fall{
  to{ transform:translateY(110vh); opacity:0; }
}

/* Quote overlay */
#quoteOverlay{
  position:fixed;
  inset:0;
  background:rgba(255,214,232,0.6);
  backdrop-filter:blur(4px);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

#quoteBox{
  background:#fff;
  width:90%;
  max-width:520px;
  max-height:80vh;
  overflow-y:auto;
  padding:25px;
  border-radius:25px;
}

#typedText{
  font-size:18px;
  line-height:1.8;
  color:#e84a7a;
  white-space:pre-wrap;
}

#finalNextBtn{
  display:none;
  margin-top:20px;
  background:#ff6fa5;
  color:white;
}

/* PHOTO OVERLAY */
#photoOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:10000;
}

#photoBox{
  position:relative;
}

#ourPhoto{
  max-width:85vw;
  max-height:80vh;
  border-radius:20px;
  opacity:0;
  transition:opacity 2.5s ease, filter 2s ease;
  box-shadow:0 0 40px rgba(0,153,255,0.8);
}

#photoOverlay.show #ourPhoto{
  opacity:1;
}

#confettiCanvas{
  position:absolute;
  inset:0;
  pointer-events:none;
}
</style>
</head>

<body>

<!-- FIRST CARD -->
<div class="card" id="card">
  <h1>Will you be my Valentine? ðŸ’•</h1>
  <div class="buttons">
    <button id="yes">Yes ðŸ’–</button>
    <button id="no">No ðŸ˜œ</button>
  </div>
</div>

<!-- RESULT -->
<div class="card result" id="result">
  <h1>ðŸ’– Happy Valentineâ€™s Day Rishitha ðŸ’–</h1>

  <div class="love-text">
    Dooram entha unna saree,  
    mana madhya unna prema epudu thaggaleduâ€¦  
    Long distance manalni dooram cheyyaledu,  
    inka strong ga kalipindi ðŸ’ž
  </div>

  <div style="margin-top:20px; display:none;" id="nextPopup">
    <button id="nextBtn" style="background:#ff6fa5;color:white;">
      ðŸ’Œ Next
    </button>
  </div>
</div>

<!-- QUOTE OVERLAY -->
<div id="quoteOverlay">
  <div id="quoteBox">
    <h2 style="color:#e84a7a;">ðŸ’– From My Heart ðŸ’–</h2>
    <div id="typedText"></div>
    <button id="finalNextBtn">Next ðŸ’–</button>
  </div>
</div>

<!-- PHOTO OVERLAY -->
<div id="photoOverlay">
  <div id="photoBox">
    <img id="ourPhoto" src="https://photos.app.goo.gl/qLHcZ9sqhXXTAHwV7">
    <canvas id="confettiCanvas"></canvas>
  </div>
</div>

<!-- SOUNDS -->
<audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-click-error-1110.mp3"></audio>
<audio id="typingSound" src="https://assets.mixkit.co/sfx/preview/mixkit-soft-click-1124.mp3" loop></audio>
<audio id="celebrateSound" src="https://assets.mixkit.co/sfx/preview/mixkit-festival-fireworks-728.mp3"></audio>

<script>
const clickSound=document.getElementById("clickSound");
const typingSound=document.getElementById("typingSound");
const celebrateSound=document.getElementById("celebrateSound");

[clickSound,typingSound,celebrateSound].forEach(s=>s.volume=1);

/* NO button movement */
const noBtn=document.getElementById("no");
setInterval(()=>{
  noBtn.style.left=Math.random()*(window.innerWidth-100)+"px";
  noBtn.style.top=Math.random()*(window.innerHeight-50)+"px";
},800);

/* YES */
document.getElementById("yes").onclick=()=>{
  clickSound.play();
  document.getElementById("card").style.display="none";
  document.getElementById("result").style.display="block";
  startEmojiRain();
  setTimeout(()=>document.getElementById("nextPopup").style.display="block",5000);
};

/* NEXT â†’ QUOTE */
document.getElementById("nextBtn").onclick=()=>{
  clickSound.play();
  document.getElementById("quoteOverlay").style.display="flex";
  startTyping();
};

/* Typing */
const fullText=`Na prema ee universe lo unna prati okka thing ni measure chesina saripodhuâ€¦
endukante idi numbers lo kaadu, na prathi heartbeat lo undi.

Distance manalni dooram cheyyaledu,
ninnu inka gattiga premisthadam nerpindi.

Valentineâ€™s Day okkate kaadu,
prathi roju same care, same love.
Kaani ee roju konchem ekkuva ðŸ’–

â€” Naveen Naidu ðŸ¤ðŸ§¿`;

let i=0;
function startTyping(){
  const box=document.getElementById("typedText");
  box.innerHTML="";
  i=0;
  typingSound.play();
  const interval=setInterval(()=>{
    box.innerHTML+=fullText.charAt(i);
    i++;
    if(i>=fullText.length){
      clearInterval(interval);
      typingSound.pause();
      document.getElementById("finalNextBtn").style.display="inline-block";
    }
  },40);
}

/* FINAL NEXT â†’ PHOTO */
document.getElementById("finalNextBtn").onclick=()=>{
  clickSound.play();
  document.getElementById("photoOverlay").style.display="flex";
  setTimeout(()=>{
    document.getElementById("photoOverlay").classList.add("show");
    celebrateSound.play();
    startConfetti();
    setTimeout(()=>document.getElementById("ourPhoto").style.filter="grayscale(100%) hue-rotate(180deg)",7000);
  },100);
};

/* Emoji rain */
function startEmojiRain(){
  const emojis=["ðŸŒ¸","ðŸ’–","ðŸŽ€","ðŸ·","ðŸ‘¸ðŸ»","ðŸ§¿","ðŸ’—"];
  setInterval(()=>{
    const e=document.createElement("div");
    e.className="float";
    e.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    e.style.left=Math.random()*100+"vw";
    e.style.animationDuration="4s";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),4000);
  },300);
}

/* Confetti */
function startConfetti(){
  const c=document.getElementById("confettiCanvas");
  const ctx=c.getContext("2d");
  c.width=window.innerWidth;
  c.height=window.innerHeight;
  const p=Array.from({length:150},()=>({
    x:Math.random()*c.width,
    y:Math.random()*c.height,
    r:Math.random()*6+4,
    dy:Math.random()*3+2,
    c:`hsl(${Math.random()*360},100%,70%)`
  }));
  function draw(){
    ctx.clearRect(0,0,c.width,c.height);
    p.forEach(o=>{
      ctx.beginPath();
      ctx.fillStyle=o.c;
      ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
      ctx.fill();
      o.y+=o.dy;
      if(o.y>c.height)o.y=0;
    });
    requestAnimationFrame(draw);
  }
  draw();
}
</script>

</body>
</html>
